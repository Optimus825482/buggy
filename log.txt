2025-11-16 14:00:05 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:05] "[36mHEAD /static/icons/favicon-16x16.png HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:06 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:06] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '3'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: [cached since 120s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:06 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:06 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:06] "GET /api/requests?status=COMPLETED&buggy_id=3 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 121.5s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.hotel_id = %(hotel_id_1)s AND locations.is_active = true ORDER BY locations.display_order, locations.name) AS anon_1 [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [generated in 0.00062s] {'hotel_id_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.hotel_id = %(hotel_id_1)s AND locations.is_active = true ORDER BY locations.display_order, locations.name 
 LIMIT %(param_1)s, %(param_2)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [generated in 0.00042s] {'hotel_id_1': 1, 'param_1': 0, 'param_2': 50} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "GET /api/locations HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/c630c15af93542a486b882e7fb6f5f14.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/c630c15af93542a486b882e7fb6f5f14.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "[33mGET /static/uploads/locations/c630c15af93542a486b882e7fb6f5f14.png HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/05c16469e3a84063b5740d75e350e6fc.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/2097fc7c39a84e4aa9fa9564edb407be.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/05c16469e3a84063b5740d75e350e6fc.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/04aaf565c0c34b18904107463446535b.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/2097fc7c39a84e4aa9fa9564edb407be.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/04aaf565c0c34b18904107463446535b.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/6ae9970cfdba4378a6009f353474b587.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "[33mGET /static/uploads/locations/05c16469e3a84063b5740d75e350e6fc.png HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "[33mGET /static/uploads/locations/2097fc7c39a84e4aa9fa9564edb407be.png HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [WARNING] app: 404 Not Found: GET /static/uploads/locations/6ae9970cfdba4378a6009f353474b587.png [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "[33mGET /static/uploads/locations/04aaf565c0c34b18904107463446535b.png HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:08] "[33mGET /static/uploads/locations/6ae9970cfdba4378a6009f353474b587.png HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 122.4s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.driver_id = %(driver_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 103.5s ago] {'driver_id_1': 10, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 103.5s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 120.9s ago] {'pk_1': 4} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time 
FROM buggy_requests 
WHERE buggy_requests.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 105.9s ago] {'pk_1': 183} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.driver_id = %(driver_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 103.5s ago] {'driver_id_1': 10, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:08 [INFO] sqlalchemy.engine.Engine: [cached since 103.5s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] buggycall: üìä Completion time calculated: 7304s for request 183 [in D:\buggycall\app\services\request_service.py:386]
2025-11-16 14:00:09 [INFO] buggycall: üìä Total time (request to completion): 7315s for request 183 [in D:\buggycall\app\services\request_service.py:394]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: UPDATE buggy_requests SET status=%(status)s, completed_at=%(completed_at)s, completion_time=%(completion_time)s WHERE buggy_requests.id = %(buggy_requests_id)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [generated in 0.00047s] {'status': 'COMPLETED', 'completed_at': datetime.datetime(2025, 11, 16, 13, 0, 9, 112230), 'completion_time': 7304, 'buggy_requests_id': 183} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.3s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] buggycall: ‚úÖ Buggy SHUTTLE-06 status set to AVAILABLE [in D:\buggycall\app\services\request_service.py:399]
2025-11-16 14:00:09 [INFO] buggycall: üìç Buggy SHUTTLE-06 location updated to Merit Royal Premium [in D:\buggycall\app\services\request_service.py:412]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: UPDATE buggies SET current_location_id=%(current_location_id)s, status=%(status)s, updated_at=%(updated_at)s WHERE buggies.id = %(buggies_id)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [generated in 0.00041s] {'current_location_id': 4, 'status': 'AVAILABLE', 'updated_at': datetime.datetime(2025, 11, 16, 11, 0, 9, 119474), 'buggies_id': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: COMMIT [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2707]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time 
FROM buggy_requests 
WHERE buggy_requests.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 112.3s ago] {'pk_1': 183} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.3s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] buggycall: üìã REQUEST_LIFECYCLE: COMPLETED | Request 183 | {"driver_id": 10, "buggy_id": 3, "buggy_code": "SHUTTLE-06", "completion_time_seconds": 7304, "completed_at": "2025-11-16T13:00:09", "current_location_id": 4, "hotel_id": 1} [in D:\buggycall\app\utils\logger.py:46]
2025-11-16 14:00:09 [INFO] buggycall: ‚úÖ Request completed: ID=183, completed_at=2025-11-16T13:00:09, completion_time=7304s [in D:\buggycall\app\services\request_service.py:427]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: INSERT INTO audit_trail (hotel_id, user_id, action, entity_type, entity_id, old_values, new_values, ip_address, user_agent, created_at) VALUES (%(hotel_id)s, %(user_id)s, %(action)s, %(entity_type)s, %(entity_id)s, %(old_values)s, %(new_values)s, %(ip_address)s, %(user_agent)s, %(created_at)s) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 112.3s ago] {'hotel_id': 1, 'user_id': 10, 'action': 'update', 'entity_type': 'request', 'entity_id': 183, 'old_values': '{"id": 183, "hotel_id": 1, "location_id": 4, "buggy_id": 3, "accepted_by_id": 10, "guest_name": null, "room_number": null, "has_room": true, "phone": ... (130 characters truncated) ... "accepted_at": "2025-11-16T10:58:25", "completed_at": null, "cancelled_at": null, "timeout_at": null, "response_time": null, "completion_time": null}', 'new_values': '{"id": 183, "hotel_id": 1, "location_id": 4, "buggy_id": 3, "accepted_by_id": 10, "guest_name": null, "room_number": null, "has_room": true, "phone": ... (148 characters truncated) ... 025-11-16T10:58:25", "completed_at": "2025-11-16T13:00:09", "cancelled_at": null, "timeout_at": null, "response_time": null, "completion_time": 7304}', 'ip_address': '127.0.0.1', 'user_agent': None, 'created_at': datetime.datetime(2025, 11, 16, 11, 0, 9, 131889)} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: COMMIT [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2707]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time 
FROM buggy_requests 
WHERE buggy_requests.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 112.3s ago] {'pk_1': 183} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] buggycall: ‚ÑπÔ∏è Guest FCM token bulunamadƒ± - Request ID: 183 [in D:\buggycall\app\services\request_service.py:454]
2025-11-16 14:00:09 [INFO] buggycall: üì° WebSocket: request_completed emitted for request 183 to all rooms [in D:\buggycall\app\services\request_service.py:479]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.driver_id = %(driver_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.7s ago] {'driver_id_1': 10, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.7s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.driver_id = %(driver_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.7s ago] {'driver_id_1': 10, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.7s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 114.7s ago] {'pk_1': 4} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "PUT /api/requests/183/complete HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.fcm_token = %(fcm_token_1)s 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [generated in 0.00250s] {'fcm_token_1': 'eN3zcNocbcWNsC_zzk12RF:APA91bEGCKbrckcP9nkECVpw5-lTzZLCUD6OJiIbuw5g_mnqmWuLuvYqZ5vDhiMyEklTDjQp2Hki2CcrT_4bl2RCdYpeFQG25Oh7mR0CtrrCSf8TzSl6I9Q', 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: UPDATE system_users SET fcm_token_date=%(fcm_token_date)s WHERE system_users.id = %(system_users_id)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [generated in 0.00053s] {'fcm_token_date': datetime.datetime(2025, 11, 16, 11, 0, 9, 199094), 'system_users_id': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: COMMIT [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2707]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '3'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] buggycall: ‚úÖ FCM token kaydedildi: User 10, Token: eN3zcNocbcWNsC_zzk12... [in D:\buggycall\app\services\fcm_notification_service.py:899]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '3'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "POST /api/fcm/register-token HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.6s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=COMPLETED&buggy_id=3 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=COMPLETED&buggy_id=3 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.8s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '3'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.7s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=COMPLETED&buggy_id=3 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time 
FROM buggy_requests 
WHERE buggy_requests.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 183} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 4} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.9s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 122.9s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 103.6s ago] {'pk_1': 3} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests/183 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '7'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=COMPLETED&buggy_id=7 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.3s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '7'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.2s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: [cached since 123.3s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:09 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:09 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:09] "GET /api/requests?status=COMPLETED&buggy_id=7 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:22 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:22] "HEAD /static/icons/favicon-16x16.png HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:22 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:22] "HEAD /static/icons/favicon-16x16.png HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:22 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:22] "HEAD /static/icons/favicon-16x16.png HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: [cached since 136.2s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: [cached since 136.2s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:22 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:22 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:22] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: [cached since 136.5s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: [cached since 136.5s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '7'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: [cached since 136.5s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: [cached since 136.5s ago] {'buggy_id_1': 7, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:23 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:23 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:23] "GET /api/requests?status=COMPLETED&buggy_id=7 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:35 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:35] "[36mHEAD /static/icons/favicon-16x16.png HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:36 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:36] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s AND buggy_requests.buggy_id = %(buggy_id_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'hotel_id_1': 1, 'status_1': 'COMPLETED', 'buggy_id_1': '3'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_active = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers 
WHERE buggy_drivers.buggy_id = %(buggy_id_1)s AND buggy_drivers.is_primary = true 
 LIMIT %(param_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: [cached since 150s ago] {'buggy_id_1': 3, 'param_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:36 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:36 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:36] "GET /api/requests?status=COMPLETED&buggy_id=3 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:36 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:36] "GET /socket.io/?EIO=4&transport=websocket&sid=36E6eRAuXoxPoMLLAAAG HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /guest/call?location=4 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/firebase-config.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/network-manager.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/offline-storage.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/push-notifications.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "HEAD /static/icons/favicon-16x16.png HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/common.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/modal.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/i18n-guest.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/ios-notification-handler.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/guest-notifications.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:37 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:37] "GET /static/js/pwa-install.js HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT buggies.id AS buggies_id, buggies.hotel_id AS buggies_hotel_id, buggies.current_location_id AS buggies_current_location_id, buggies.driver_id AS buggies_driver_id, buggies.code AS buggies_code, buggies.model AS buggies_model, buggies.license_plate AS buggies_license_plate, buggies.icon AS buggies_icon, buggies.status AS buggies_status, buggies.created_at AS buggies_created_at, buggies.updated_at AS buggies_updated_at 
FROM buggies 
WHERE buggies.hotel_id = %(hotel_id_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.2s ago] {'hotel_id_1': 1} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT buggy_drivers.id AS buggy_drivers_id, buggy_drivers.buggy_id AS buggy_drivers_buggy_id, buggy_drivers.driver_id AS buggy_drivers_driver_id, buggy_drivers.is_active AS buggy_drivers_is_active, buggy_drivers.is_primary AS buggy_drivers_is_primary, buggy_drivers.assigned_at AS buggy_drivers_assigned_at, buggy_drivers.last_active_at AS buggy_drivers_last_active_at 
FROM buggy_drivers INNER JOIN buggies ON buggy_drivers.buggy_id = buggies.id 
WHERE buggies.hotel_id = %(hotel_id_1)s AND buggies.status = %(status_1)s AND buggy_drivers.is_active = true [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.2s ago] {'hotel_id_1': 1, 'status_1': 'AVAILABLE'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.2s ago] {'pk_1': 8} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.2s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.2s ago] {'pk_1': 4} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "GET /api/drivers/active?hotel_id=1&notify=true&location_id=4 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 151.7s ago] {'pk_1': 14} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 151.7s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT system_users.id AS system_users_id, system_users.hotel_id AS system_users_hotel_id, system_users.username AS system_users_username, system_users.password_hash AS system_users_password_hash, system_users.role AS system_users_role, system_users.full_name AS system_users_full_name, system_users.email AS system_users_email, system_users.phone AS system_users_phone, system_users.is_active AS system_users_is_active, system_users.must_change_password AS system_users_must_change_password, system_users.fcm_token AS system_users_fcm_token, system_users.fcm_token_date AS system_users_fcm_token_date, system_users.push_subscription AS system_users_push_subscription, system_users.push_subscription_date AS system_users_push_subscription_date, system_users.notification_preferences AS system_users_notification_preferences, system_users.created_at AS system_users_created_at, system_users.last_login AS system_users_last_login 
FROM system_users 
WHERE system_users.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 151.7s ago] {'pk_1': 10} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT buggy_requests.id AS buggy_requests_id, buggy_requests.hotel_id AS buggy_requests_hotel_id, buggy_requests.location_id AS buggy_requests_location_id, buggy_requests.buggy_id AS buggy_requests_buggy_id, buggy_requests.accepted_by_id AS buggy_requests_accepted_by_id, buggy_requests.guest_name AS buggy_requests_guest_name, buggy_requests.room_number AS buggy_requests_room_number, buggy_requests.has_room AS buggy_requests_has_room, buggy_requests.phone AS buggy_requests_phone, buggy_requests.notes AS buggy_requests_notes, buggy_requests.guest_device_id AS buggy_requests_guest_device_id, buggy_requests.guest_push_subscription AS buggy_requests_guest_push_subscription, buggy_requests.guest_fcm_token AS buggy_requests_guest_fcm_token, buggy_requests.guest_fcm_token_expires_at AS buggy_requests_guest_fcm_token_expires_at, buggy_requests.status AS buggy_requests_status, buggy_requests.cancelled_by AS buggy_requests_cancelled_by, buggy_requests.requested_at AS buggy_requests_requested_at, buggy_requests.accepted_at AS buggy_requests_accepted_at, buggy_requests.completed_at AS buggy_requests_completed_at, buggy_requests.cancelled_at AS buggy_requests_cancelled_at, buggy_requests.timeout_at AS buggy_requests_timeout_at, buggy_requests.response_time AS buggy_requests_response_time, buggy_requests.completion_time AS buggy_requests_completion_time, locations_1.id AS locations_1_id, locations_1.hotel_id AS locations_1_hotel_id, locations_1.name AS locations_1_name, locations_1.description AS locations_1_description, locations_1.qr_code_data AS locations_1_qr_code_data, locations_1.qr_code_image AS locations_1_qr_code_image, locations_1.location_image AS locations_1_location_image, locations_1.display_order AS locations_1_display_order, locations_1.latitude AS locations_1_latitude, locations_1.longitude AS locations_1_longitude, locations_1.is_active AS locations_1_is_active, locations_1.created_at AS locations_1_created_at, locations_1.updated_at AS locations_1_updated_at, locations_2.id AS locations_2_id, locations_2.hotel_id AS locations_2_hotel_id, locations_2.name AS locations_2_name, locations_2.description AS locations_2_description, locations_2.qr_code_data AS locations_2_qr_code_data, locations_2.qr_code_image AS locations_2_qr_code_image, locations_2.location_image AS locations_2_location_image, locations_2.display_order AS locations_2_display_order, locations_2.latitude AS locations_2_latitude, locations_2.longitude AS locations_2_longitude, locations_2.is_active AS locations_2_is_active, locations_2.created_at AS locations_2_created_at, locations_2.updated_at AS locations_2_updated_at, buggy_drivers_1.id AS buggy_drivers_1_id, buggy_drivers_1.buggy_id AS buggy_drivers_1_buggy_id, buggy_drivers_1.driver_id AS buggy_drivers_1_driver_id, buggy_drivers_1.is_active AS buggy_drivers_1_is_active, buggy_drivers_1.is_primary AS buggy_drivers_1_is_primary, buggy_drivers_1.assigned_at AS buggy_drivers_1_assigned_at, buggy_drivers_1.last_active_at AS buggy_drivers_1_last_active_at, buggies_1.id AS buggies_1_id, buggies_1.hotel_id AS buggies_1_hotel_id, buggies_1.current_location_id AS buggies_1_current_location_id, buggies_1.driver_id AS buggies_1_driver_id, buggies_1.code AS buggies_1_code, buggies_1.model AS buggies_1_model, buggies_1.license_plate AS buggies_1_license_plate, buggies_1.icon AS buggies_1_icon, buggies_1.status AS buggies_1_status, buggies_1.created_at AS buggies_1_created_at, buggies_1.updated_at AS buggies_1_updated_at 
FROM buggy_requests LEFT OUTER JOIN locations AS locations_1 ON locations_1.id = buggy_requests.location_id LEFT OUTER JOIN buggies AS buggies_1 ON buggies_1.id = buggy_requests.buggy_id LEFT OUTER JOIN locations AS locations_2 ON locations_2.id = buggies_1.current_location_id LEFT OUTER JOIN buggy_drivers AS buggy_drivers_1 ON buggies_1.id = buggy_drivers_1.buggy_id 
WHERE buggy_requests.hotel_id = %(hotel_id_1)s AND buggy_requests.status = %(status_1)s ORDER BY buggy_requests.requested_at DESC [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 151.7s ago] {'hotel_id_1': 1, 'status_1': 'PENDING'} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "GET /api/requests?status=PENDING HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit) [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2701]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: SELECT locations.id AS locations_id, locations.hotel_id AS locations_hotel_id, locations.name AS locations_name, locations.description AS locations_description, locations.qr_code_data AS locations_qr_code_data, locations.qr_code_image AS locations_qr_code_image, locations.location_image AS locations_location_image, locations.display_order AS locations_display_order, locations.latitude AS locations_latitude, locations.longitude AS locations_longitude, locations.is_active AS locations_is_active, locations.created_at AS locations_created_at, locations.updated_at AS locations_updated_at 
FROM locations 
WHERE locations.id = %(pk_1)s [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: [cached since 150.3s ago] {'pk_1': 4} [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:1846]
2025-11-16 14:00:38 [INFO] sqlalchemy.engine.Engine: ROLLBACK [in C:\Python313\Lib\site-packages\sqlalchemy\engine\base.py:2704]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "GET /api/locations/4 HTTP/1.1" 200 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "[36mGET /static/manifest.json HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "[36mGET /static/fonts/Inter-ExtraBold.woff2 HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "[35m[1mGET /static/sounds/notification.mp3 HTTP/1.1[0m" 206 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [WARNING] app: 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:38 [WARNING] app: 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json [in D:\buggycall\app\__init__.py:436]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:38 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:38] "[36mGET /static/icons/Icon-144.png HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
2025-11-16 14:00:40 [INFO] werkzeug: 127.0.0.1 - - [16/Nov/2025 14:00:40] "[36mGET /sw.js HTTP/1.1[0m" 304 - [in C:\Python313\Lib\site-packages\werkzeug\_internal.py:96]
